# 图标改进说明

## 概述
为 DataAI 应用程序的工具栏和菜单添加了图标支持，提升用户体验和视觉效果。

## 改进内容

### 1. 工具栏图标
工具栏中的所有按钮都已添加图标：

- **AI 配置** - 设置图标
- **添加连接** - 新建文件夹图标
- **导入 Navicat** - 打开文件图标
- **刷新** - 刷新图标
- **新建表** - 列表视图图标
- **执行** - 播放图标

### 2. 菜单栏图标
所有菜单项都已添加相应的图标：

#### 文件菜单
- 添加数据库连接 - 新建图标
- 从 Navicat 导入 - 导入图标
- 退出 - 关闭图标

#### 数据库菜单
- 测试连接 - 应用图标
- 刷新 - 刷新图标
- 结构同步 - 同步图标

#### 查询菜单
- 执行查询 - 播放图标
- 清空查询 - 重置图标

#### 设置菜单
- 设置 - 设置图标
- AI模型配置 - 计算机图标
- AI提示词配置 - 编辑图标

#### 帮助菜单
- 关于 - 信息图标

### 3. 右键菜单图标
连接树的右键菜单也已添加图标：

#### 表项右键菜单
- 在新标签页中查询 - 查询图标
- 编辑表结构 - 编辑图标
- 复制结构 - 复制图标
- 刷新 - 刷新图标

#### 数据库项右键菜单
- 新建表 - 新建图标
- 删除数据库 - 删除图标
- 刷新 - 刷新图标

#### 连接项右键菜单
- 编辑 - 编辑图标
- 测试连接 - 测试图标
- 新建数据库 - 数据库图标
- 刷新 - 刷新图标
- 删除 - 删除图标

## 技术实现

### 图标来源
使用 PyQt6 的标准图标系统：
- `QStyle.standardIcon()` - 提供跨平台的标准图标
- 图标会根据操作系统主题自动调整样式

### 代码改进
1. **工具栏优化**：
   - 将 `QPushButton` 改为 `QAction`，更符合工具栏的标准实现
   - 添加快捷键支持
   - 设置工具按钮样式为 `ToolButtonTextBesideIcon`（图标在文本旁边）

2. **图标管理**：
   - 创建 `_get_icon()` 方法统一管理图标
   - 使用字典映射简化图标获取逻辑
   - 便于后续扩展和维护

3. **国际化支持**：
   - 更新 `retranslate_ui()` 方法，确保图标在语言切换后仍然正常显示

## 效果
- ✅ 工具栏更加直观美观
- ✅ 菜单项更易识别
- ✅ 右键菜单视觉效果更好
- ✅ 保持跨平台一致性
- ✅ 自动适应系统主题

## 文件修改
- `src/gui/handlers/ui_handler.py` - 工具栏和菜单栏图标
- `src/gui/handlers/menu_handler.py` - 右键菜单图标

